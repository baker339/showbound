"""Add player_features table for precomputed features

Revision ID: dc9aadaad5a6
Revises: xxxx
Create Date: 2025-07-03 12:09:18.344776

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = 'dc9aadaad5a6'
down_revision: Union[str, Sequence[str], None] = 'xxxx'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('standard_pitching_stats')
    op.drop_table('fielding_stats')
    op.drop_table('advanced_batting_stats')
    op.drop_table('player_game_grades')
    op.drop_table('value_pitching_stats')
    op.drop_table('stat_rows')
    op.drop_table('player_bio')
    op.drop_table('advanced_pitching_stats')
    op.drop_table('atbats')
    op.drop_table('stat_tables')
    op.drop_table('pitching_stats')
    op.drop_index(op.f('ix_players_bref_id'), table_name='players')
    op.drop_table('players')
    op.drop_table('pitches')
    op.drop_table('batting_stats')
    op.drop_table('standard_batting_stats')
    op.drop_table('teams')
    op.drop_table('games')
    op.drop_table('value_batting_stats')
    op.drop_table('standard_fielding_stats')
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('standard_fielding_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('season', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pos', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('g', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('cg', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('inn', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ch', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('po', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('a', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('e', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('dp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('fld_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lgfld_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rtot', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('rtot_yr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('rdrs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('rdrs_yr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('rf9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lgrf9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rfg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lgrfg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('standard_fielding_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('standard_fielding_stats_pkey')),
    sa.UniqueConstraint('player_id', 'season', 'team', 'pos', name=op.f('_std_fielding_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('value_batting_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('season', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pa', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('rbat', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rbaser', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rdp', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rfield', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rpos', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('raa', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('waa', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rrep', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('war', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('waa_wl_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('wl_162_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('owar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('dwar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('orar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('pos', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('value_batting_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('value_batting_stats_pkey')),
    sa.UniqueConstraint('player_id', 'season', 'team', name=op.f('_val_batting_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('games',
    sa.Column('id', sa.INTEGER(), server_default=sa.text("nextval('games_id_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('date', postgresql.TIMESTAMP(), autoincrement=False, nullable=False),
    sa.Column('home_team_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('away_team_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['away_team_id'], ['teams.id'], name='games_away_team_id_fkey'),
    sa.ForeignKeyConstraint(['home_team_id'], ['teams.id'], name='games_home_team_id_fkey'),
    sa.PrimaryKeyConstraint('id', name='games_pkey'),
    postgresql_ignore_search_path=False
    )
    op.create_table('teams',
    sa.Column('id', sa.INTEGER(), server_default=sa.text("nextval('teams_id_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('name', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.Column('abbreviation', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.PrimaryKeyConstraint('id', name='teams_pkey'),
    sa.UniqueConstraint('abbreviation', name='teams_abbreviation_key', postgresql_include=[], postgresql_nulls_not_distinct=False),
    postgresql_ignore_search_path=False
    )
    op.create_table('standard_batting_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('season', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('war', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('g', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pa', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ab', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('r', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('doubles', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('triples', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('rbi', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('cs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('so', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ba', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('obp', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('slg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ops', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ops_plus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('roba', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rbat_plus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('tb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gidp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hbp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sh', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sf', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ibb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pos', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('standard_batting_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('standard_batting_stats_pkey')),
    sa.UniqueConstraint('player_id', 'season', 'team', name=op.f('_std_batting_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('batting_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('year', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('league', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('war', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('g', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pa', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ab', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('r', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('doubles', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('triples', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('rbi', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('cs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('so', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ba', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('obp', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('slg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ops', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ops_plus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('roba', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rbat_plus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('tb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gidp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hbp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sh', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sf', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ibb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pos', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rbat', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rbaser', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rdp', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rfield', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rpos', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('raa', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('waa', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rrep', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('waa_wl_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('wl_162_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('owar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('dwar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('orar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('babip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('iso', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('hr_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('so_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ev', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('hardh_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ld_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('gb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('fb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('gb_fb', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pull_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('cent_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('oppo_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('wpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('cwpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('re24', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rs_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('sb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('xbt_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('batting_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('batting_stats_pkey')),
    sa.UniqueConstraint('player_id', 'year', 'team', name=op.f('_battingstat_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('pitches',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('game_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pitcher_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('batter_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('at_bat_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('inning', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pitch_number', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pitch_type', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pitch_result', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('description', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('release_speed', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('release_spin_rate', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('plate_x', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('plate_z', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('zone', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('is_strike', sa.BOOLEAN(), autoincrement=False, nullable=True),
    sa.Column('is_ball', sa.BOOLEAN(), autoincrement=False, nullable=True),
    sa.Column('is_called_correctly', sa.BOOLEAN(), autoincrement=False, nullable=True),
    sa.Column('x0', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('y0', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('z0', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('vx0', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('vy0', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('vz0', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('ax', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('ay', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('az', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('sz_top', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('sz_bot', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('launch_speed', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('launch_angle', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['at_bat_id'], ['atbats.id'], name=op.f('pitches_at_bat_id_fkey')),
    sa.ForeignKeyConstraint(['batter_id'], ['players.id'], name=op.f('pitches_batter_id_fkey')),
    sa.ForeignKeyConstraint(['game_id'], ['games.id'], name=op.f('pitches_game_id_fkey')),
    sa.ForeignKeyConstraint(['pitcher_id'], ['players.id'], name=op.f('pitches_pitcher_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('pitches_pkey'))
    )
    op.create_table('players',
    sa.Column('id', sa.INTEGER(), server_default=sa.text("nextval('players_id_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('full_name', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('birth_date', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('primary_position', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('positions_raw', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('positions', postgresql.BYTEA(), autoincrement=False, nullable=True),
    sa.Column('bats', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('throws', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('height', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('weight', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('source_url', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('image_url', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('level', sa.VARCHAR(), autoincrement=False, nullable=False),
    sa.Column('debut_date', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bref_id', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bio_json', postgresql.JSONB(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id', name='players_pkey'),
    postgresql_ignore_search_path=False
    )
    op.create_index(op.f('ix_players_bref_id'), 'players', ['bref_id'], unique=True)
    op.create_table('pitching_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('year', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('league', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('agedif', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('level', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('aff', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('w', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('l', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('wl_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('era', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ra9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('g', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gf', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('cg', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sho', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sv', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('r', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('er', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ibb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('so', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hbp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bk', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('wp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bf', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('whip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('h9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('hr9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bb9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('so9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('so_w', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('pitching_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('pitching_stats_pkey')),
    sa.UniqueConstraint('player_id', 'year', 'team', name=op.f('_pitchingstat_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('stat_tables',
    sa.Column('id', sa.INTEGER(), server_default=sa.text("nextval('stat_tables_id_seq'::regclass)"), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('caption', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('table_type', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('source_url', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name='stat_tables_player_id_fkey'),
    sa.PrimaryKeyConstraint('id', name='stat_tables_pkey'),
    postgresql_ignore_search_path=False
    )
    op.create_table('atbats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('game_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('batter_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('pitcher_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('inning', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('result', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['batter_id'], ['players.id'], name=op.f('atbats_batter_id_fkey')),
    sa.ForeignKeyConstraint(['game_id'], ['games.id'], name=op.f('atbats_game_id_fkey')),
    sa.ForeignKeyConstraint(['pitcher_id'], ['players.id'], name=op.f('atbats_pitcher_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('atbats_pkey'))
    )
    op.create_table('advanced_pitching_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('season', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('k_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('hr_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('babip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lob_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('era_minus', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('fip_minus', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('xfip_minus', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('siera', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pli', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('inli', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('gmli', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('exli', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('wpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('re24', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('cwpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('advanced_pitching_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('advanced_pitching_stats_pkey')),
    sa.UniqueConstraint('player_id', 'season', 'team', name=op.f('_adv_pitching_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('player_bio',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('field_name', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('field_value', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('source_url', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('player_bio_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('player_bio_pkey'))
    )
    op.create_table('stat_rows',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('stat_table_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('row_index', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('row_data', postgresql.JSONB(astext_type=sa.Text()), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['stat_table_id'], ['stat_tables.id'], name=op.f('stat_rows_stat_table_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('stat_rows_pkey'))
    )
    op.create_table('value_pitching_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('season', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('waa', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('war', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('ra9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('fip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('wpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('re24', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('cwpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('raa', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rrep', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('rar', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('g', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bf', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('value_pitching_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('value_pitching_stats_pkey')),
    sa.UniqueConstraint('player_id', 'season', 'team', name=op.f('_val_pitching_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('player_game_grades',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('game_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('grade', sa.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.Column('notes', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['game_id'], ['games.id'], name=op.f('player_game_grades_game_id_fkey')),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('player_game_grades_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('player_game_grades_pkey'))
    )
    op.create_table('advanced_batting_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('season', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pa', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('roba', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rbat_plus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('babip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('iso', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('hr_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('so_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ev', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('hardh_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('ld_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('gb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('fb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('gb_fb', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pull_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('cent_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('oppo_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('wpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('cwpa', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('re24', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('rs_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('sb_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('xbt_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('pos', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('advanced_batting_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('advanced_batting_stats_pkey')),
    sa.UniqueConstraint('player_id', 'season', 'team', name=op.f('_adv_batting_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('fielding_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('year', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('league', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('g', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('inn', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('po', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('a', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('e', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('dp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('fp', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('fielding_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('fielding_stats_pkey')),
    sa.UniqueConstraint('player_id', 'year', 'team', name=op.f('_fieldingstat_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    op.create_table('standard_pitching_stats',
    sa.Column('id', sa.INTEGER(), autoincrement=True, nullable=False),
    sa.Column('player_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('season', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('age', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('team', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('lg', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('w', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('l', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('wl_pct', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('era', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('g', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gs', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('gf', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('cg', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sho', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('sv', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('h', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('r', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('er', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hr', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('ibb', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('so', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('hbp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bk', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('wp', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('bf', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('era_plus', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('fip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('whip', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('h9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('hr9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('bb9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('so9', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('so_w', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.Column('awards', sa.VARCHAR(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['player_id'], ['players.id'], name=op.f('standard_pitching_stats_player_id_fkey')),
    sa.PrimaryKeyConstraint('id', name=op.f('standard_pitching_stats_pkey')),
    sa.UniqueConstraint('player_id', 'season', 'team', name=op.f('_std_pitching_uc'), postgresql_include=[], postgresql_nulls_not_distinct=False)
    )
    # ### end Alembic commands ###
